<!DOCTYPE html>
<html lang="en">
<head>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="./css/style.css" />	
	<script src="./firebase.js" defer type="module"></script>

</head>

<body>
		
	<!-- 배경동영상 -->
	<figure class="vid" >
		<video loop="loop" muted autoplay >
			<source src="./img/tea.mp4" type="video/mp4" />
		</video>
	</figure>

	<!-- 헤더 -->
	<div class="header">		
		<div id="logo"><img src="./img/pngegg.png"/></div>
		<div id="gnb">
			<ul >
				<li >
					<a href="#" onclick="showSection('teaser')">Teaser trailer</a>				
				</li>
				<li>
					<a href="#info" onclick="showSection('info')">Info</a>				
				</li>
				<li>
					<a href="#review"onclick="showSection('review')">Review</a>
				</li>
				<li>
					<a href="#character" onclick="showSection('character')">Character</a>
				</li>
				<li>				
					<a href="#community"onclick="showSection('community')">Community</a>
				</li>	
			</ul>
		</div>
	</div>

	<!-- 오른쪽 텍스트 -->
	<div class="t">
		<div class="text">Inside<br>OUT2</div>
		<div class='day'> 2024년 06월 12일<br><p>IMAX 극장 대개봉</p></div>
		<div class="con" onclick="showSection('character')" id="characterLink">Random Character Poster
		</div>
	</div>

	<!-- 랜덤 캐릭터 이미지 -->
	<div class="random" id="randomElement">
		<div id="characterTextDiv"><p>캐릭터 설명</p></div>
		<div id="characterImageDiv"><img id="characterImage" src="./img/기쁨5.png" /></div>
	</div>

	<!-- 각 섹션의 내용을 담는 div -->
	<div id="teaser-section" class="section-content">
		<figure class="vid2">
			<video loop="loop" muted  autoplay >
				<source src="./img/tea.mp4" type="video/mp4" />
			</video>
		</figure>
	</div>
	<div id="info-section" class="section-content">
		<h2>정보 섹션</h2>
		<p>영화 정보 관련 내용...</p>
	</div>
	<div id="review-section" class="section-content">
		<h2>리뷰 섹션</h2>
		<p>리뷰 관련 내용...</p>
	</div>


	<script>
		//header 목록 선택
		window.onload = function() {
			const initialSectionId = 'teaser';
			showSection(initialSectionId);
			};

		function showSection(sectionId) {
			const sections = document.querySelectorAll('.section-content');
			sections.forEach(section => {
			section.style.display = 'none';
			});

			const selectedSection = document.getElementById(`${sectionId}-section`);
			if (selectedSection) {
					selectedSection.style.display = 'block';
			}
			
			const gnbItems = document.querySelectorAll('#gnb li');
			gnbItems.forEach(item => {
					item.classList.remove('selected');
			});

			const selectedNavItem = document.querySelector(`[onclick="showSection('${sectionId}')"]`);
			if (selectedNavItem) {
				selectedNavItem.parentElement.classList.add('selected');
			}

			if(sectionId==='character' || sectionId==='community' ){
				window.location.href=`./html/${sectionId}.html`
				window.location.reload();
			}
		}

		//캐릭터 이미지 이동  
		const conElement = document.getElementById('characterLink');
		const randomElement = document.getElementById('randomElement');
		
		conElement.addEventListener('mouseenter', function() {
			randomElement.style.right = '0.7%';
			randomElement.style.marginRight = '2.4%';
		});
		
		conElement.addEventListener('mouseleave', function() {
			randomElement.style.right = '-1700px';
		});

		//캐릭터 이미지 랜덤으로
		const characters = ["불안1", "부럽2", "당황3", "따분4", "기쁨5", "슬픔6", "버럭7", "소심8", "까칠9"];
		document.getElementById('characterLink').addEventListener('mouseover', function() {
				const randomNumber = Math.floor(Math.random() * characters.length);
				const imagePath = `./img/${characters[randomNumber]}.png`;
				const characterImage = document.getElementById('characterImage');
				characterImage.src = imagePath;
		});   
	</script>

</body>
</html>